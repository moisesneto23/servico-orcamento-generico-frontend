(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1690b416"],{"171c":function(t,e,a){},"35f3":function(t,e,a){},"39d2":function(t,e,a){"use strict";a("171c")},"708d":function(t,e,a){"use strict";a.r(e);var i,o=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{attrs:{id:"cadastroOrcamento"}},[e("cadastro-item",{staticClass:"mb-8"}),e("listagem-item")],1)},s=[],d=a("9ab4"),r=a("1b40"),n=a("8336"),c=a("62ad"),l=a("cd55"),m=a("49e2"),u=a("c865"),p=a("0393"),b=a("132d"),v=a("0fd9"),h=function(){var t=this,e=t._self._c;t._self._setupProxy;return e(p["a"],{attrs:{focusable:""}},t._l(t.obterItensUnitarios,(function(a,i){return e(l["a"],{key:i,staticClass:"mb-2"},[e(u["a"],{staticClass:"my-n1"},[e(v["a"],[e(c["a"],{staticClass:"mt-1"},[e("h3",[t._v(" "+t._s(a.nome))])]),e(c["a"],[e("h4",[t._v("Medida de unidade:"),e("h5",[t._v(" "+t._s(a.nomeUnidadeMedida)+" ")])])])],1)],1),e(m["a"],[e(v["a"],[e(c["a"],{staticClass:"mt-2",attrs:{cols:"6"}},[e("edicao-item",{attrs:{itemEdicao:a}}),e("h3",{staticClass:"text-center"},[t._v("Editar")])],1),e(c["a"],{attrs:{cols:"6"}},[e(n["a"],{attrs:{text:""}},[e(b["a"],{attrs:{"x-large":""},on:{click:function(e){return t.excluirItem(a.id)}}},[t._v("mdi-trash-can-outline")])],1),e("h3",{staticClass:"text-center"},[t._v("Escluir")])],1)],1)],1)],1)})),1)},f=[],I=a("0613"),O=a("af01"),g=a("4bb5"),j=a("b0af"),_=a("99d9"),y=a("a523"),x=a("169a"),E=a("2fa4"),M=a("8654"),C=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{attrs:{justify:"center"}},[e(x["a"],{attrs:{persistent:"","max-width":"600px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e(j["a"],[e(_["c"],[e("span",{staticClass:"text-h5"},[t._v("Editar Item")])]),e(_["b"],[e(y["a"],[e(v["a"],[e(c["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(M["a"],{attrs:{label:"Nome da categoria*",required:""},model:{value:t.itemEdicao.nome,callback:function(e){t.$set(t.itemEdicao,"nome",e)},expression:"itemEdicao.nome"}})],1),e(c["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(M["a"],{attrs:{label:"Valor de compra",hint:"custo de compra do item",type:"number"},model:{value:t.itemEdicao.valorCompra,callback:function(e){t.$set(t.itemEdicao,"valorCompra",e)},expression:"itemEdicao.valorCompra"}})],1),e(c["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(M["a"],{attrs:{label:"Valor de venda",hint:"pretenção de venda do item",type:"number"},model:{value:t.itemEdicao.valorVenda,callback:function(e){t.$set(t.itemEdicao,"valorVenda",e)},expression:"itemEdicao.valorVenda"}})],1)],1)],1),e("small",[t._v("*indica campo obrigatorio")])],1),e(_["a"],[e(E["a"]),e(n["a"],{staticClass:"mt-8",attrs:{dark:""},on:{click:function(e){return t.editarItem(t.itemEdicao)}}},[t._v(" Salvar Edição ")]),e(n["a"],{attrs:{color:"blue",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancelar ")])],1)],1)],1),e(n["a"],{attrs:{text:""},on:{click:function(e){t.dialog=!0}}},[e(b["a"],{attrs:{"x-large":""}},[t._v("mdi-circle-edit-outline")])],1)],1)},A=[];class U{}const k=Object(g["c"])(I["a"].ITEM);let S=class extends r["c"]{constructor(){super(...arguments),this.dialog=!1}async editarItem(t){await this.editaItem(t).then(()=>{this.dialog=!1}).catch(()=>{alert("Algo deu errado nesta operação")})}};Object(d["a"])([k.Action(O["a"].EDITAR_ITEM),Object(d["b"])("design:type",Function)],S.prototype,"editaItem",void 0),Object(d["a"])([Object(r["b"])(),Object(d["b"])("design:type","function"===typeof(i="undefined"!==typeof U&&U)?i:Object)],S.prototype,"itemEdicao",void 0),S=Object(d["a"])([Object(r["a"])({})],S);var T=S,R=T,V=a("2877"),w=Object(V["a"])(R,C,A,!1,null,null,null),F=w.exports;const D=Object(g["c"])(I["a"].ITEM);let N=class extends r["c"]{get obterItensUnitarios(){const t=this.itens;return t}async excluirItem(t){await this.removerItem(t)}};Object(d["a"])([D.Action(O["a"].REMOVER_ITEM),Object(d["b"])("design:type",Function)],N.prototype,"removerItem",void 0),Object(d["a"])([D.State,Object(d["b"])("design:type",Array)],N.prototype,"itens",void 0),N=Object(d["a"])([Object(r["a"])({components:{EdicaoItem:F}})],N);var P=N,$=P,B=Object(V["a"])($,h,f,!1,null,null,null),G=B.exports,q=a("0a4f"),J=a("b974"),L=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{attrs:{justify:"center",id:"cadastroItem"}},[e(x["a"],{attrs:{persistent:"","max-width":"800px"},model:{value:t.dialogItem,callback:function(e){t.dialogItem=e},expression:"dialogItem"}},[e(j["a"],[e(_["c"],[e("span",{staticClass:"text-h5"},[t._v("Criar Item de Área")])]),e(_["b"],[e(y["a"],[e(v["a"],[e(c["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(M["a"],{attrs:{label:"Nome do Item*",required:"",color:"teal",outlined:""},model:{value:t.item.nome,callback:function(e){t.$set(t.item,"nome",e)},expression:"item.nome"}})],1),e(c["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(J["a"],{attrs:{items:t.tipoUnidadeMedida,"item-text":"nome","item-value":"id",label:"Unidade de medida","persistent-hint":"","return-object":"",outlined:""},on:{change:function(e){return t.verificaId()}},model:{value:t.selectUnidadeMedida,callback:function(e){t.selectUnidadeMedida=e},expression:"selectUnidadeMedida"}})],1),t.obtemIdUnidadeMedida>5?e(c["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(M["a"],{attrs:{label:"Quantidade minima",hint:"minimo em m2 ou linear disponivel no mercado",color:"teal",type:"number",rules:t.valorRules,outlined:""},model:{value:t.valorVendaStr,callback:function(e){t.valorVendaStr=e},expression:"valorVendaStr"}})],1):t._e()],1),e(v["a"],[e(c["a"],{attrs:{cols:"12",sm:"6",md:"4"}},[e(M["a"],{attrs:{variant:"outlined",label:"Valor de compra",hint:"custo de compra do item",rules:t.valorRules,color:"teal",type:"number",prefix:"R$",outlined:""},model:{value:t.valorCompraStr,callback:function(e){t.valorCompraStr=e},expression:"valorCompraStr"}})],1)],1)],1),e("small",[t._v("*indica campo obrigatorio")])],1),e(_["a"],[e(E["a"]),e(n["a"],{attrs:{dark:""},on:{click:function(e){t.selecuinaIdSelect(),t.salvarItem()}}},[t._v(" Salvar ")]),e(n["a"],{attrs:{color:"blue",text:""},on:{click:function(e){t.dialogItem=!1}}},[t._v(" Cancelar ")])],1)],1)],1),e(n["a"],{attrs:{color:"primary",rounded:!0},on:{click:function(e){t.dialogItem=!0}}},[e(b["a"],[t._v("mdi-shape-square-plus")]),t._v(" Criar Item ")],1)],1)},Q=[],H=(a("14d9"),a("fc60"));const z=Object(g["c"])(I["a"].ITEM);let K=class extends r["c"]{constructor(){super(...arguments),this.item=new U,this.comprimentoBarraStr="1",this.valorVendaStr="0",this.valorCompraStr="",this.select="",this.tipoUnidadeMedida=[],this.unidadeMedidaId=0,this.dialogItem=!1}selecuinaIdSelect(){var t;this.idSelect=null===(t=this.tipos.find(t=>t.descricao==this.select))||void 0===t?void 0:t.id}async salvarItem(){parseFloat(this.comprimentoBarraStr);this.item.tipoUnidadeMedidaId=this.selectUnidadeMedida.id,this.item.valorCompra=parseFloat(this.valorCompraStr),this.item.QuantidadeMinimaPorTipoUnidade=parseFloat(this.valorVendaStr),await this.salvaItem(this.item).then(()=>{this.dialogItem=!1}).catch(()=>{alert("Algo deu errado nesta operação")})}mounted(){this.tipoUnidadeMedida.push({id:1,nome:"Unidade"}),this.tipoUnidadeMedida.push({id:2,nome:"Peso/kg"}),this.tipoUnidadeMedida.push({id:3,nome:"Metro"}),this.tipoUnidadeMedida.push({id:4,nome:"Área/m2"}),this.tipoUnidadeMedida.push({id:5,nome:"Volume/m3"}),this.tipoUnidadeMedida.push({id:7,nome:"Chapa em m2"}),this.tipoUnidadeMedida.push({id:8,nome:"Barra em metros"}),this.tipoUnidadeMedida.push({id:6,nome:"Hora"})}verificaId(){this.tipoUnidadeMedida&&(this.unidadeMedidaId=this.selectUnidadeMedida.id)}get obtemIdUnidadeMedida(){return this.unidadeMedidaId}get descricaoTipos(){return this.tipos.map(t=>t.descricao)}get valorRules(){return[t=>!!t||"Valor é obrigatório",t=>/^\d+(\.\d{1,2})?$/.test(t)||"Valor inválido"]}};Object(d["a"])([z.Action(O["a"].SALVAR_ITEM),Object(d["b"])("design:type",Function)],K.prototype,"salvaItem",void 0),Object(d["a"])([z.State,Object(d["b"])("design:type",Array)],K.prototype,"tipos",void 0),Object(d["a"])([Object(g["a"])(H["a"].ATIVAR_CARREGAMENTO),Object(d["b"])("design:type",Function)],K.prototype,"AtivarCarregamento",void 0),Object(d["a"])([Object(g["a"])(H["a"].DESATIVAR_CARREGAMENTO),Object(d["b"])("design:type",Function)],K.prototype,"DesativarCarregamento",void 0),K=Object(d["a"])([Object(r["a"])({})],K);var W=K,X=W,Y=(a("759b"),Object(V["a"])(X,L,Q,!1,null,"596760d3",null)),Z=Y.exports;const tt=Object(g["c"])(q["a"].ITEM);let et=class extends r["c"]{constructor(){super(...arguments),this.tab=null}async mounted(){this.AtivarCarregamento(),this.obterTodosItens().then(()=>{this.DesativarCarregamento()}).catch(()=>this.DesativarCarregamento())}};Object(d["a"])([tt.Action(O["a"].OBTER_ITENS),Object(d["b"])("design:type",Function)],et.prototype,"obterTodosItens",void 0),Object(d["a"])([Object(g["a"])(H["a"].ATIVAR_CARREGAMENTO),Object(d["b"])("design:type",Function)],et.prototype,"AtivarCarregamento",void 0),Object(d["a"])([Object(g["a"])(H["a"].DESATIVAR_CARREGAMENTO),Object(d["b"])("design:type",Function)],et.prototype,"DesativarCarregamento",void 0),et=Object(d["a"])([Object(r["a"])({components:{ListagemItem:G,CadastroItem:Z}})],et);var at=et,it=at,ot=(a("39d2"),Object(V["a"])(it,o,s,!1,null,"19cd5452",null));e["default"]=ot.exports},"759b":function(t,e,a){"use strict";a("35f3")}}]);